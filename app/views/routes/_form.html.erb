

<div class="form-new-review px-3">
  <%= simple_form_for(@route) do |f| %>
    <%= f.input :title %>
    <%= f.input :description %>

    <%= f.input :prefecture, collection: Route::PREFECTURES, label: "Route prefecture" %>

    <div data-controller="address-autocomplete"
      data-address-autocomplete-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
        <%= f.input :"address",
        label: false,
        input_html: {
        data: {address_autocomplete_target: "address"},
        id: "address-input",
        style: "display: none;",
        placeholder: "Search for an address...",
        class: "form-control  d-none"}%>
    </div>
    <%= f.hidden_field :waypoints, id: 'waypoints_input', multiple: true %>
    <%= f.label :waypoints, "Map", class: "mb-2"  %>
    <%= render 'shared/map'%>

    <div class="mt-4">
      <%= f.input :videos_url, label: "Youtube Link"%>
    </div>
    <div class="col-12 mb-2">
      <div class="d-flex flex-column flex-md-row justify-content-between">
        <div class="mb-md-0">
          <%#= f.label :photos, "Upload Photos", class: 'form-label' %>
          <%= f.label :photo, input_html: { class: 'd-none'},
          label_html: { class: 'upload-photo'}, label: 'Upload Photos' %>
        </div>

        <div class="form-text">
          <strong>Note:</strong> Maximum file size is 10MB per photo.
        </div>
      </div>
      <%= f.file_field :photos, multiple: true, accept: 'image/*', class: 'form-control' %>
    </div>

    <div class="row mt-7 mb-2 col-12">
      <%= render 'shared/road_condition_form', f: f %>
    </div>
    <div class="row mt-6">
    </div>
    <div class="row mt-6">
      <div class="ride-type-item">
        <%= f.input :ride_type,
                    as: :check_boxes,
                    collection_wrapper_tag: 'div',
                    collection_wrapper_class: 'ride-type-wrapper',
                    item_wrapper_class: 'ride-type-item',
                    input_html: {class: 'ride-type-selector'},
                    collection: Route::RIDE_TYPE,
                    include_hidden: false %>
      </div>
    </div>
    <div class="row mt-2">
      <%= render 'recomended_bikes_form', f: f %>
    </div>
  </div>
  <div class="d-flex justify-content-center mt-3 pb-3">
    <%= f.submit "Submit", class: "btn-red  " %>
  </div>
<% end %>
</div>
