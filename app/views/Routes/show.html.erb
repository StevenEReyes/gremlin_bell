<h1><%= @route.title %></h1>
<p><%= @route.description %></p>
<p>Ride Type: <%= @route.ride_type %></p>
<!-- Assuming waypoints is an array of coordinates -->
<div id="map"></div>
<script>
  // Initialize and add the map
  function initMap() {
    const map = new google.maps.Map(document.getElementById("map"), {
      zoom: 8,
      center: { lat: @route.waypoints.first.lat, lng: @route.waypoints.first.lng },  // Example to center on the first waypoint
    });

    const routePath = new google.maps.Polyline({
      path: <%= @route.waypoints.to_json.html_safe %>,
      geodesic: true,
      strokeColor: "#FF0000",
      strokeOpacity: 1.0,
      strokeWeight: 2,
    });

    routePath.setMap(map);
  }
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap"></script>
<h2>Reviews</h2>
<% @reviews.each do |review| %>
  <div>
    <h3><%= review.title %></h3>
    <p><%= review.description %></p>
    <p>Rating: <%= review.rating %></p>
    <!-- Display images if attached -->
    <% review.photos.each do |photo| %>
      <%= image_tag(photo) %>
    <% end %>
    <% if review.video.attached? %>
      <%= video_tag(review.video, controls: true) %>
    <% end %>
  </div>
<% end %>
<h2>Comments</h2>
<% @comments.each do |comment| %>
  <div>
    <p><%= comment.user.first_name %>: <%= comment.description %></p>
  </div>
<% end %>
